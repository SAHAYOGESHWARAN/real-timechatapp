<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real-Time Chat App</title>

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMI/IzrQn6Tp4MO5CZ7FhWkB3mzXJDkrp2X6axY" crossorigin="anonymous" />

    <!-- Toastr.js for Toast Notifications -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" integrity="sha384-oCk2xXrFq5QfL8h2GJf/nrxHVxVu9lmYz65PlNLgZFYpFeELQTPbS7sO3BIX/V0P" crossorigin="anonymous" />

    <!-- External CSS for App Styling -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Loading Screen -->
    <div id="loading-screen">
      <div class="loader"></div>
      <p>Loading Chat App...</p>
    </div>

    <!-- Main App Container -->
    <div id="app-container" style="display:none;">
      <header id="app-header">
        <h1>Real-Time Chat App</h1>
        <button id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
        <button id="theme-toggle"><i class="fas fa-adjust"></i> Toggle Dark Mode</button>
      </header>

      <div id="chat-app">
        <aside id="user-list">
          <h2>Online Users</h2>
          <ul id="users"></ul> <!-- User list will populate here -->
        </aside>

        <main id="chat-container">
          <div id="root"></div> <!-- React will mount the app here -->
          <div id="message-input">
            <input type="text" id="message" placeholder="Type a message..." />
            <button id="send-message"><i class="fas fa-paper-plane"></i></button>
          </div>
          <div id="unread-count">Unread Messages: <span id="count">0</span></div>
        </main>
      </div>

      <!-- Footer -->
      <footer id="app-footer">
        <p>Â© 2024 Real-Time Chat App. All rights reserved.</p>
      </footer>
    </div>

    <!-- External Scripts for Font Awesome and Toastr.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js" integrity="sha384-nmCkUBbsRceZOnLuRh8lMtv2U/OdVgnRYNP5EQChKR7v6UPthLg0h7vM9z/e6iT7" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js" integrity="sha384-eHxW+kvDjF9+K6M2Ls96KlFwRh6fiInL6ulKiHyt2ZjDbD1EP9P/d67+u6pAGnTW" crossorigin="anonymous"></script>

    <!-- Notification Sound -->
    <audio id="notification-sound" src="notification.mp3" preload="auto"></audio>

    <!-- Loading Script (Example) -->
    <script>
      window.addEventListener('load', () => {
        document.getElementById('loading-screen').style.display = 'none';
        document.getElementById('app-container').style.display = 'block';
      });

      // Dark mode toggle functionality
      const themeToggleButton = document.getElementById('theme-toggle');
      themeToggleButton.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
      });

      // Simulated function to receive messages and update UI (for demonstration)
      function receiveMessage(message) {
        // Play notification sound
        document.getElementById('notification-sound').play();

        // Update unread message count
        const countElement = document.getElementById('count');
        countElement.innerText = parseInt(countElement.innerText) + 1;

        // Show a toast notification
        toastr.info(`${message.sender}: ${message.content}`);
      }

      // Simulated user list (for demonstration)
      const users = ['User1', 'User2', 'User3'];
      const userListElement = document.getElementById('users');
      users.forEach(user => {
        const li = document.createElement('li');
        li.innerText = user;
        userListElement.appendChild(li);
      });
    </script>
  </body>
</html>
